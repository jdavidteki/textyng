{"version":3,"file":"static/js/601.1127fb17.chunk.js","mappings":"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","sources":["src/components/PygPal/PygPal.js","src/firebase/firebase.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Firebase from \"../../firebase/firebase.js\";\nconst { Configuration, OpenAIApi } = require(\"openai\");\n\nimport './PygPal.css';\n\nclass PygPal extends Component {\n  state = {\n    url: '',\n    extractedData: null,\n    chatInput: '',\n    chats: [],\n    placeholder: '',\n    isDataExtracted: false,\n    openai: null,\n    placeholder: 'Ask questions about the extracted data...'\n  };\n\n    componentDidMount = async () =>{\n        await this.CreateOpenAIModel();\n\n        const extractedData = await this.extractDataFromPage(\"https://jsonplaceholder.typicode.com/\");\n        this.sendPageContentToModel(extractedData);\n        this.setState({\n            extractedData: extractedData,\n            isDataExtracted: true,\n        });\n    }\n\n    handleUrlSubmit = async (e) => {\n        const { url } = this.state;\n\n        const extractedData = await this.extractDataFromPage(url);\n        this.setState({\n            extractedData: extractedData,\n            isDataExtracted: true,\n            chats: [],\n        }, () => {\n            this.sendPageContentToModel(extractedData);\n        });\n    };\n\n    CreateOpenAIModel = async () => {\n        const openAIAPI = await Firebase.getOpenAIAPI();\n        const openaiApiKey = Array.isArray(openAIAPI) ? openAIAPI.join(\"\") : openAIAPI;\n        const configuration = new Configuration({ apiKey: openaiApiKey });\n        delete configuration.baseOptions.headers['User-Agent'];\n        const openai = new OpenAIApi(configuration);\n\n        this.setState({openai: openai});\n    }\n\n    sendPageContentToModel = async (extractedData) => {\n        const prompt = `MUST READ NOTE: The person chatting with you thinks they are talking to \n                        the content of ${this.state.url}. Please interact with them as if you \n                        were the content of ${this.state.url} and chat with them. Find attached \n                        the content of ${this.state.url}: \\n\\n${extractedData.paragraphs}\\n\\nUser:`\n\n        const GPT35TurboMessage = [\n            {\n                role: \"user\",\n                content: prompt\n            },\n        ];\n\n        const response = await this.state.openai.createChatCompletion({\n            model: \"gpt-3.5-turbo\",\n            messages: GPT35TurboMessage,\n        });\n        const aiResponse = response.data.choices[0].message.content;\n\n\n        this.setState((prevState) => ({\n            chats: [...prevState.chats, GPT35TurboMessage[0]]\n        }));\n    };\n\n    extractDataFromPage = async (url) => {\n        try {\n            const response = await fetch(url);\n            const html = await response.text();\n\n            const parser = new DOMParser();\n            const doc = parser.parseFromString(html, 'text/html');\n            const paragraphs = Array.from(doc.querySelectorAll('p')).map((p) => p.textContent);\n            const extractedData = {\n                paragraphs: paragraphs,\n            };\n\n            return extractedData;\n        } catch (error) {\n            console.error('Error extracting data:', error);\n            return {};\n        }\n    };\n  \n\n    handleSendMessage = async () => {\n        const { chatInput } = this.state;\n\n        if (this.state.isDataExtracted) {\n\n            // Add user's input to chat history\n            const newChat = { \n                role: 'user', \n                content: chatInput \n            };\n            \n            this.setState(\n                (prevState) => ({\n                  chats: [...prevState.chats, newChat],\n                  chatInput: ''\n                }),\n                async () => {\n\n                  const response = await this.state.openai.createChatCompletion({\n                    model: \"gpt-3.5-turbo\",\n                    messages: this.state.chats,\n                  });\n                  const aiResponse = response.data.choices[0].message.content;\n              \n                  // add AI's response to chat history\n                  let newChatAI = {\n                    role: 'assistant',\n                    content: aiResponse\n                  };\n                  this.setState((prevState) => ({\n                    chats: [...prevState.chats, newChatAI]\n                  }));\n                }\n            );\n\n        } else {\n            // Handle case where data extraction is not complete or activeModel is not set\n            // ...\n        }\n    };\n\n    render() {\n        const { url, extractedData, chatInput, chats, placeholder, isDataExtracted } = this.state;\n\n        return (\n            <div className='PygPal l-container'>\n                <div className='PygPal-extractURL'>\n                    <input\n                        className='PygPal-extractDataInput'\n                        type=\"text\"\n                        value={url}\n                        onChange={(e) => this.setState({ url: e.target.value })}\n                        placeholder=\"Enter a URL\"\n                    />\n                    <button onClick={this.handleUrlSubmit} type=\"submit\">Extract Data</button>\n                </div>\n\n                {isDataExtracted &&\n                    // Render the text messaging interface\n                    //https://www.moesif.com/blog/technical/cors/Authoritative-Guide-to-CORS-Cross-Origin-Resource-Sharing-for-REST-APIs/\n                    <div className='PygPal-bottomSection'>\n                        {/* Render extracted data */}\n                        {extractedData && extractedData.paragraphs && (\n                            <div className='PygPal-extractedData'>\n                                <h2>Extracted Data</h2>\n                                <ul>\n                                    {extractedData.paragraphs.map((paragraph, index) => (\n                                        <li key={index}>{paragraph}</li>\n                                    ))}\n                                </ul>\n                            </div>\n                        )}\n\n                        <div className='PygPal-chatInterface'>\n                            {/* Render chat history */}\n                            <div className='PygPal-chatHistory'>\n                                <h2>Chat History</h2>\n                                <ul className='PygPal-chatHistoryList'>\n                                    {chats.slice(1).map((chat, index) => (\n                                        <li className='PygPal-chatHistoryList-li' key={index}>\n                                            {chat.role}: {chat.content}\n                                        </li>\n                                    ))}\n                                </ul>\n                            </div>\n                            <input\n                                className='PygPal-messageInput'\n                                type=\"text\"\n                                value={chatInput}\n                                onChange={(e) => this.setState({ chatInput: e.target.value })}\n                                placeholder={placeholder}\n                            />\n                            <button type=\"submit\" onClick={this.handleSendMessage}>\n                                Send\n                            </button>\n                        </div>\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n\nexport default PygPal;\n","import firebase from \"firebase\";\n\nclass Firebase {\n  getScripts = () =>{\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/scripts/')\n      .once('value')\n      .then(snapshot => {\n        if (snapshot.val()){\n          resolve(Object.values(snapshot.val()))\n        }else{\n          resolve({})\n        }\n      })\n    })\n  }\n\n  getFylds = () =>{\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/fylds/')\n      .once('value')\n      .then(snapshot => {\n        if (snapshot.val()){\n          resolve(Object.values(snapshot.val()))\n        }else{\n          resolve({})\n        }\n      })\n    })\n  }\n\n  createFyld = (fyld) => {\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/fylds/' + fyld.name.replace(/\\s/g, '') + '/')\n      .set(\n        {\n          name: fyld.name,\n          dateCreated: fyld.dateCreated,\n          description: fyld.description,\n          image: fyld.image,\n          friends: fyld.friends,\n        }\n      )\n      .then((response) => {\n        console.log(\"response\", response)\n        resolve(true)\n      })\n      .catch(error => {\n        console.log(\"error\", error)\n      })\n    })\n  }\n\n  createGrypcht = (grypcht) => {\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/grypchts/' + grypcht.id + '/')\n      .set(\n        {\n          id: grypcht.id,\n          groupName: grypcht.groupName,\n          members: grypcht.members,\n          dateCreated: grypcht.dateCreated,\n          description: grypcht.description,\n          isPrivateGrypcht: grypcht.isPrivateGrypcht,\n        }\n      )\n      .then((response) => {\n        console.log(\"response\", response)\n        resolve(true)\n      })\n      .catch(error => {\n        console.log(\"error\", error)\n      })\n    })\n  }\n\n\n  createNewScript = (script) => {\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/scripts/' + script.id + '/')\n      .set(\n        {\n          id: script.id,\n          name: script.name,\n          dateCreated: script.dateCreated,\n          cast: script.cast,\n          crew: script.crew,\n          messages: script.messages,\n          isPrivateScript: script.isPrivateScript,\n        }\n      )\n      .then((response) => {\n        console.log(\"response\", response)\n        resolve(true)\n      })\n      .catch(error => {\n        console.log(\"error\", error)\n      })\n    })\n  }\n\n  updateScript = (script) => {\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/scripts/' + script.id + '/')\n      .update(\n        {\n          id: script.id,\n          name: script.name,\n          dateCreated: script.dateCreated,\n          cast: script.cast,\n          crew: script.crew,\n          messages: script.messages,\n          scenes: script.scenes,\n          readerReactionMap: script.readerReactionMap,\n          isPrivateScript: script.isPrivateScript,\n        }\n      )\n      .then((response) => {\n        console.log(\"response\", response)\n        resolve(true)\n      })\n      .catch(error => {\n        console.log(\"error\", error)\n      })\n    })\n  }\n\n  getOpenAIAPI = () => {\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/openAIAPI/')\n      .once('value')\n      .then(snapshot => {\n        if (snapshot.val()){\n          resolve(Object.values(snapshot.val()))\n        }else{\n          resolve({})\n        }\n      })\n    })\n  }\n\n  getConversationHistory = () => {\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/conversationHistory/')\n      .once('value')\n      .then(snapshot => {\n        if (snapshot.val()){\n          resolve(Object.values(snapshot.val()))\n        }else{\n          resolve({})\n        }\n      })\n    })\n  }\n\n  getRimiSenTitles = () =>{\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/rimiLyrics/')\n      .once('value')\n      .then(snapshot => {\n        if (snapshot.val()){\n          resolve(Object.values(snapshot.val()))\n        }else{\n          resolve({})\n        }\n      })\n    })\n  }\n\n  postChats = (seller, buyer, message, productId, senderID) => {\n    return new Promise(resolve => {\n      firebase.database().\n      ref('/chats/' + seller + '/' + productId + '/' + buyer + '/').\n      push({\n        content: message,\n        timestamp: Date.now(),\n        uid: senderID,\n      }).\n      then(() => {\n        resolve(true)\n      }).catch(error =>{\n        resolve({})\n      })\n    })\n  }\n\n  storage = () => {\n    return firebase.storage()\n  }\n\n  getRimiSenTitles = () =>{\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/rimiLyrics/')\n      .once('value')\n      .then(snapshot => {\n        if (snapshot.val()){\n          resolve(Object.values(snapshot.val()))\n        }else{\n          resolve({})\n        }\n      })\n    })\n  }\n\n  getScriptById = (id) => {\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/scripts/'+id)\n      .once('value')\n      .then(snapshot => {\n        if (snapshot.val()){\n          resolve(Object(snapshot.val()))\n        }else{\n          resolve({})\n        }\n      })\n    })\n  }\n\n  updateSenTitle = (update) =>{\n    return new Promise(resolve => {\n      firebase.database()\n      .ref(`/rimis/${update.id}/`)\n      .update(\n        {\n          senTitle: update.newSenTitle,\n        },\n      )\n      .then((response) => {\n        return new Promise(resolve => {\n          firebase.database()\n          .ref(`/rimis/${update.id}/updates/${update.updateId}`)\n          .remove()\n          .then(() => {\n            resolve(true)\n          }).catch( (error) =>{\n            console.log(\"error\", error)\n          })\n        })\n        .then((response) => {\n          resolve(true)\n        })\n        .catch(error => {\n          console.log(\"error\", error)\n        })\n      })\n      .catch(error => {\n        console.log(\"error\", error)\n      })\n    })\n\n  }\n\n  sendForApproval = (item) => {\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/rimis/'+item.id+'/updates/' + item.updateId + '/')\n      .set(item)\n      .then((response) => {\n        console.log(\"response\", response)\n        resolve(true)\n      })\n      .catch(error => {\n        console.log(\"error\", error)\n      })\n    })\n  }\n\n  updateVideoSnippetURL = (orderId, snippetVideoURL) => {\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/orders/' + orderId + '/')\n      .update({snippetVideoURL})\n      .then((response) => {\n        console.log(\"response\", response)\n        resolve(true)\n      })\n      .catch(error => {\n        console.log(\"error\", error)\n      })\n    })\n  }\n}\n\nexport default new Firebase();\n"],"names":["_require","require","Configuration","OpenAIApi","PygPal","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","state","url","extractedData","chatInput","chats","placeholder","isDataExtracted","openai","componentDidMount","_regeneratorRuntime","_context","prev","next","CreateOpenAIModel","extractDataFromPage","sent","sendPageContentToModel","setState","stop","Promise","handleUrlSubmit","e","_context2","openAIAPI","openaiApiKey","configuration","_context3","Firebase","isArray","join","apiKey","baseOptions","headers","prompt","GPT35TurboMessage","response","_context4","paragraphs","role","content","createChatCompletion","model","messages","data","choices","message","prevState","_toConsumableArray","html","parser","doc","_context5","fetch","text","DOMParser","parseFromString","from","querySelectorAll","map","p","textContent","abrupt","t0","console","error","handleSendMessage","newChat","_context7","aiResponse","newChatAI","_context6","_createClass","key","value","_this2","_this$state","this","React","className","type","onChange","target","onClick","paragraph","index","slice","chat","Component","getScripts","resolve","firebase","ref","once","then","snapshot","val","Object","values","getFylds","createFyld","fyld","name","replace","set","dateCreated","description","image","friends","log","catch","createGrypcht","grypcht","id","groupName","members","isPrivateGrypcht","createNewScript","script","cast","crew","isPrivateScript","updateScript","update","scenes","readerReactionMap","getOpenAIAPI","getConversationHistory","getRimiSenTitles","postChats","seller","buyer","productId","senderID","push","timestamp","Date","now","uid","storage","getScriptById","updateSenTitle","senTitle","newSenTitle","updateId","remove","sendForApproval","item","updateVideoSnippetURL","orderId","snippetVideoURL"],"sourceRoot":""}