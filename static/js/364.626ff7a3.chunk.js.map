{"version":3,"file":"static/js/364.626ff7a3.chunk.js","mappings":"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","sources":["src/components/Fylds/Fylds.js","src/firebase/firebase.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Firebase from \"../../firebase/firebase.js\";\nimport ModelsSpeech from '../ModelsSpeech/ModelsSpeech.js';\nimport { MoveSunInSky } from \"../../Helpers/Helpers.js\";\n\nimport './Fylds.css';\n\n// Extending NodeList prototype with a shuffle method\nNodeList.prototype.shuffle = function () {\n  const array = Array.from(this);\n  for (let i = array.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [array[i], array[j]] = [array[j], array[i]];\n  }\n  return array;\n};\n\nclass Fylds extends Component {\n\n  //initialize your state\n  state = {\n    models: [], //array of model objects\n    activeModel: null, //model that is currently selected\n    chatInput: '', //user input for chat\n    chats: [], //array of chat messages\n    placeholder: \"do you even have any hidha?\"\n  }\n\n  int1 = null;\n  int2 = null;\n\n  async componentDidMount() {\n    MoveSunInSky();\n\n    await Firebase.getFylds().then((fylds) => {\n      this.setState({ models: fylds });\n    });\n\n    this.int1 = setInterval(() => {\n      Firebase.getFylds().then((fylds) => {\n        this.setState({ models: fylds });\n      });\n\n    }, 5000);\n\n\n    const screenWidth = window.innerWidth;\n    const screenHeight = window.innerHeight;\n    const cloudWidth =  screenWidth > 776 ? 150 : 50;\n    const cloudHeight = 100;\n    const maxClouds = Math.floor((screenWidth * screenHeight) / (cloudWidth * cloudHeight * 4));\n    const clouds = document.querySelectorAll(\".cloud\").shuffle();\n    const numCloudsOnScreen = Math.min(clouds.length, maxClouds);\n    \n    for (let i = 0; i < numCloudsOnScreen; i++) {\n      const delay = Math.random() * 5;\n      const x = Math.random() * 100;\n      const y = Math.random() * 90;\n      clouds[i].style.animationDelay = delay + \"s\";\n      clouds[i].style.left = x + \"%\";\n      clouds[i].style.top = y + \"%\";\n    }\n  \n    for (let i = numCloudsOnScreen; i < clouds.length; i++) {\n      clouds[i].style.display = \"none\";\n    }\n\n    this.int2 = setInterval(() => {\n      this.manageClouds(clouds, numCloudsOnScreen);\n    }, 2000);\n\n  }\n  \n  componentWillUnmount(){\n    clearInterval(this.int1); \n    clearInterval(this.int2);\n  }\n\n  //function to handle model selection\n  handleModelClick = (model) => {\n    this.setState({ \n      activeModel: model,\n      placeholder: \"say something to \" + model.name + \"...\"\n    });\n  }\n\n  manageClouds(clouds, numCloudsOnScreen) {\n    const randomIndex = Math.floor(Math.random() * numCloudsOnScreen);\n    clouds[randomIndex].style.display = \"none\";\n\n    let hiddenCloud;\n    for (const cloud of clouds) {\n      if (cloud.style.display === \"none\") {\n        hiddenCloud = cloud;\n        break;\n      }\n    }\n    if (hiddenCloud) {\n      const delay = Math.random() * 5;\n      const x = Math.random() * 100;\n      const y = Math.random() * 90;\n      hiddenCloud.style.display = \"inline\";\n      hiddenCloud.style.animationDelay = delay + \"s\";\n      hiddenCloud.style.left = x + \"%\";\n      hiddenCloud.style.top = y + \"%\";\n    }\n  }\n\n  //function to handle user chat input\n  handleChatInput = (event) => {\n    this.setState({ chatInput: event.target.value });\n  }\n\n  //function to handle sending a chat message\n  handleSendMessage = async () => {\n    let { activeModel, chatInput } = this.state;\n  \n    // create a new fyld\n    if (chatInput.startsWith(\"y:\")) {\n\n      let fyld = {\n        name: chatInput.slice(2),\n        description: chatInput.slice(2),\n        image: \"\",\n        friends: \"everything\",\n        dateCreated: new Date().toLocaleDateString('en-US')\n      };\n\n      await Firebase.createFyld(fyld).then((response) => {\n        this.setState({ \n          chatInput: `thanks, created ${fyld.name}!`\n        });\n\n        setTimeout(() => {\n          this.setState({ \n            chatInput: '',\n          });\n        }, 3000);\n      });\n\n      return\n    }\n\n    // if no model is selected, do nothing\n    if (!activeModel) {\n\n      activeModel = {\n        name: \"anything\",\n        description: \"anything\",\n        image: \"https://i.imgur.com/3Zo7z6S.png\",\n        friends: \"everything\",\n        dateCreated: \"2022-02-28\"\n      }\n\n      this.setState({ \n        activeModel: activeModel,\n        placeholder: \"say something to anything...\",\n      });\n    };\n    \n    // add user's input to chat history\n    const newChat = { sender: 'user', message: chatInput };\n    this.setState(prevState => ({\n      chats: [...prevState.chats, newChat],\n      chatInput: ''\n    }));\n\n    // send user's input to OpenAI API and get AI's response\n    const openAIAPI = await Firebase.getOpenAIAPI();\n    const openaiApiKey = Array.isArray(openAIAPI) ? openAIAPI.join(\"\") : openAIAPI;\n  \n    const { Configuration, OpenAIApi } = require(\"openai\");\n    const configuration = new Configuration({ apiKey: openaiApiKey });\n    delete configuration.baseOptions.headers['User-Agent'];\n\n    const prompt = `MUST READ NOTE: The person chatting with you thinks they are talking to\n                    ${activeModel.name}. Please interact with them as if you were \n                    ${activeModel.name} and chat with them. This is your conversation history with them\n                    \\n\\n${this.state.chats}\\n\\nUser: ${newChat}\\nAI:`;\n\n    \n    const openai = new OpenAIApi(configuration);\n    const response = await openai.createCompletion({\n      model: \"text-davinci-003\",\n      prompt: prompt,\n      max_tokens: 150,\n      n: 1,\n      stop: [\"\\nUser:\", \"AI:\"]\n    });\n    const aiResponse = response.data.choices[0].text.trim();\n  \n    // add AI's response to chat history\n    const newChatAI = { sender: 'ai', message: aiResponse };\n    this.setState(prevState => ({\n      chats: [...prevState.chats, newChatAI]\n    }));\n  }\n\n  render() {\n    const { models, activeModel, chatInput, chats } = this.state;\n\n    //render floating clouds for each model\n    const cloudList = models.map((model) => (\n      <div\n        key={model.name}\n        className={`cloud`} //className={`cloud ${model === activeModel ? 'active' : ''}`}\n        onClick={() => this.handleModelClick(model)}\n      >\n        {model.name}\n      </div>\n    ));\n\n    //render chat popup if a model is selected\n    let chatPopup = null;\n    if (activeModel !== null) {\n      chatPopup = (\n        <div className=\"chat-popup\">\n          <div className=\"chat-close\" onClick={\n            () => this.setState({\n              activeModel: null, \n              placeholder: \"do you even have any hidha?\",\n              chatInput: '',\n            })}\n          >\n            X\n          </div>\n          <div className=\"chat-header\">{`Hello, my name is ${activeModel.name}. What's going on?`}</div>\n          <div className=\"chat-messages\">\n            {chats.map((chat, index) => (\n              chat.sender === 'user' ? \n                <div key={index} className={`chat-message user`}>\n                  {chat.message}\n                </div> \n              :\n                <div key={index} className={`chat-message ai`}>\n                  {chat.message}\n                </div>\n            ))}\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"Fylds\">\n        <div className=\"cloud-container\">{cloudList}</div>\n        {/* {models.length > 0 && <ModelsSpeech models={models} />} TODO: figure a way to make all the voices utter simultaneously*/}\n        <div className=\"Fylds-searchbar\">\n            <input\n              className=\"chat-input\"\n              type=\"text\"\n              placeholder={this.state.placeholder}\n              value={chatInput}\n              onChange={this.handleChatInput}\n            />\n          <button className=\"chat-send-button\" onClick={this.handleSendMessage}>\n            Send\n          </button>\n        </div>\n        {chatPopup}\n      </div>\n    );\n  }\n}\n\nexport default Fylds;\n","import firebase from \"firebase\";\n\nclass Firebase {\n  getScripts = () =>{\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/scripts/')\n      .once('value')\n      .then(snapshot => {\n        if (snapshot.val()){\n          resolve(Object.values(snapshot.val()))\n        }else{\n          resolve({})\n        }\n      })\n    })\n  }\n\n  getFylds = () =>{\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/fylds/')\n      .once('value')\n      .then(snapshot => {\n        if (snapshot.val()){\n          resolve(Object.values(snapshot.val()))\n        }else{\n          resolve({})\n        }\n      })\n    })\n  }\n\n  createFyld = (fyld) => {\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/fylds/' + fyld.name.replace(/\\s/g, '') + '/')\n      .set(\n        {\n          name: fyld.name,\n          dateCreated: fyld.dateCreated,\n          description: fyld.description,\n          image: fyld.image,\n          friends: fyld.friends,\n        }\n      )\n      .then((response) => {\n        console.log(\"response\", response)\n        resolve(true)\n      })\n      .catch(error => {\n        console.log(\"error\", error)\n      })\n    })\n  }\n\n  createNewScript = (script) => {\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/scripts/' + script.id + '/')\n      .set(\n        {\n          id: script.id,\n          name: script.name,\n          dateCreated: script.dateCreated,\n          cast: script.cast,\n          crew: script.crew,\n          messages: script.messages,\n          isPrivateScript: script.isPrivateScript,\n        }\n      )\n      .then((response) => {\n        console.log(\"response\", response)\n        resolve(true)\n      })\n      .catch(error => {\n        console.log(\"error\", error)\n      })\n    })\n  }\n\n  updateScript = (script) => {\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/scripts/' + script.id + '/')\n      .update(\n        {\n          id: script.id,\n          name: script.name,\n          dateCreated: script.dateCreated,\n          cast: script.cast,\n          crew: script.crew,\n          messages: script.messages,\n          scenes: script.scenes,\n          readerReactionMap: script.readerReactionMap,\n          isPrivateScript: script.isPrivateScript,\n        }\n      )\n      .then((response) => {\n        console.log(\"response\", response)\n        resolve(true)\n      })\n      .catch(error => {\n        console.log(\"error\", error)\n      })\n    })\n  }\n\n  getOpenAIAPI = () => {\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/openAIAPI/')\n      .once('value')\n      .then(snapshot => {\n        if (snapshot.val()){\n          resolve(Object.values(snapshot.val()))\n        }else{\n          resolve({})\n        }\n      })\n    })\n  }\n\n  getConversationHistory = () => {\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/conversationHistory/')\n      .once('value')\n      .then(snapshot => {\n        if (snapshot.val()){\n          resolve(Object.values(snapshot.val()))\n        }else{\n          resolve({})\n        }\n      })\n    })\n  }\n\n  getRimiSenTitles = () =>{\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/rimiLyrics/')\n      .once('value')\n      .then(snapshot => {\n        if (snapshot.val()){\n          resolve(Object.values(snapshot.val()))\n        }else{\n          resolve({})\n        }\n      })\n    })\n  }\n\n  postChats = (seller, buyer, message, productId, senderID) => {\n    return new Promise(resolve => {\n      firebase.database().\n      ref('/chats/' + seller + '/' + productId + '/' + buyer + '/').\n      push({\n        content: message,\n        timestamp: Date.now(),\n        uid: senderID,\n      }).\n      then(() => {\n        resolve(true)\n      }).catch(error =>{\n        resolve({})\n      })\n    })\n  }\n\n  storage = () => {\n    return firebase.storage()\n  }\n\n  getRimiSenTitles = () =>{\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/rimiLyrics/')\n      .once('value')\n      .then(snapshot => {\n        if (snapshot.val()){\n          resolve(Object.values(snapshot.val()))\n        }else{\n          resolve({})\n        }\n      })\n    })\n  }\n\n  getScriptById = (id) => {\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/scripts/'+id)\n      .once('value')\n      .then(snapshot => {\n        if (snapshot.val()){\n          resolve(Object(snapshot.val()))\n        }else{\n          resolve({})\n        }\n      })\n    })\n  }\n\n  updateSenTitle = (update) =>{\n    return new Promise(resolve => {\n      firebase.database()\n      .ref(`/rimis/${update.id}/`)\n      .update(\n        {\n          senTitle: update.newSenTitle,\n        },\n      )\n      .then((response) => {\n        return new Promise(resolve => {\n          firebase.database()\n          .ref(`/rimis/${update.id}/updates/${update.updateId}`)\n          .remove()\n          .then(() => {\n            resolve(true)\n          }).catch( (error) =>{\n            console.log(\"error\", error)\n          })\n        })\n        .then((response) => {\n          resolve(true)\n        })\n        .catch(error => {\n          console.log(\"error\", error)\n        })\n      })\n      .catch(error => {\n        console.log(\"error\", error)\n      })\n    })\n\n  }\n\n  sendForApproval = (item) => {\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/rimis/'+item.id+'/updates/' + item.updateId + '/')\n      .set(item)\n      .then((response) => {\n        console.log(\"response\", response)\n        resolve(true)\n      })\n      .catch(error => {\n        console.log(\"error\", error)\n      })\n    })\n  }\n\n  updateVideoSnippetURL = (orderId, snippetVideoURL) => {\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/orders/' + orderId + '/')\n      .update({snippetVideoURL})\n      .then((response) => {\n        console.log(\"response\", response)\n        resolve(true)\n      })\n      .catch(error => {\n        console.log(\"error\", error)\n      })\n    })\n  }\n}\n\nexport default new Firebase();\n"],"names":["NodeList","prototype","shuffle","array","Array","from","this","i","length","j","Math","floor","random","_ref","Fylds","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","args","_key","call","apply","concat","state","models","activeModel","chatInput","chats","placeholder","int1","int2","handleModelClick","model","setState","name","handleChatInput","event","target","value","handleSendMessage","_this$state","fyld","newChat","openAIAPI","openaiApiKey","_require","Configuration","OpenAIApi","configuration","prompt","openai","response","aiResponse","newChatAI","_regeneratorRuntime","_context","prev","next","startsWith","slice","description","image","friends","dateCreated","Date","toLocaleDateString","Firebase","then","setTimeout","abrupt","sender","message","prevState","_toConsumableArray","sent","isArray","join","require","apiKey","baseOptions","headers","createCompletion","max_tokens","n","stop","data","choices","text","trim","Promise","_createClass","key","screenWidth","screenHeight","cloudWidth","maxClouds","clouds","numCloudsOnScreen","delay","x","y","_i","_this2","_context2","MoveSunInSky","fylds","setInterval","window","innerWidth","innerHeight","document","querySelectorAll","min","style","animationDelay","left","top","display","manageClouds","clearInterval","hiddenCloud","_step","_iterator","_createForOfIteratorHelperLoose","done","cloud","_this3","_this$state2","cloudList","map","React","className","onClick","chatPopup","chat","index","type","onChange","Component","getScripts","resolve","firebase","ref","once","snapshot","val","Object","values","getFylds","createFyld","replace","set","console","log","catch","error","createNewScript","script","id","cast","crew","messages","isPrivateScript","updateScript","update","scenes","readerReactionMap","getOpenAIAPI","getConversationHistory","getRimiSenTitles","postChats","seller","buyer","productId","senderID","push","content","timestamp","now","uid","storage","getScriptById","updateSenTitle","senTitle","newSenTitle","updateId","remove","sendForApproval","item","updateVideoSnippetURL","orderId","snippetVideoURL"],"sourceRoot":""}