{"ast":null,"code":"import _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport firebase from \"firebase\";\nvar Firebase = _createClass(function Firebase() {\n  _classCallCheck(this, Firebase);\n  this.getScripts = function () {\n    return new Promise(function (resolve) {\n      firebase.database().ref('/scripts/').once('value').then(function (snapshot) {\n        if (snapshot.val()) {\n          resolve(Object.values(snapshot.val()));\n        } else {\n          resolve({});\n        }\n      });\n    });\n  };\n  this.createNewScript = function (script) {\n    return new Promise(function (resolve) {\n      firebase.database().ref('/scripts/' + script.id + '/').set({\n        id: script.id,\n        name: script.name,\n        dateCreated: script.dateCreated,\n        cast: script.cast,\n        crew: script.crew,\n        messages: script.messages\n      }).then(function (response) {\n        console.log(\"response\", response);\n        resolve(true);\n      }).catch(function (error) {\n        console.log(\"error\", error);\n      });\n    });\n  };\n  this.updateScript = function (script) {\n    return new Promise(function (resolve) {\n      firebase.database().ref('/scripts/' + script.id + '/').update({\n        name: script.name,\n        cast: script.cast,\n        crew: script.crew,\n        messages: script.messages,\n        scenes: script.scenes\n      }).then(function (response) {\n        console.log(\"response\", response);\n        resolve(true);\n      }).catch(function (error) {\n        console.log(\"error\", error);\n      });\n    });\n  };\n  this.getRimiSenTitles = function () {\n    return new Promise(function (resolve) {\n      firebase.database().ref('/rimiLyrics/').once('value').then(function (snapshot) {\n        if (snapshot.val()) {\n          resolve(Object.values(snapshot.val()));\n        } else {\n          resolve({});\n        }\n      });\n    });\n  };\n  this.postChats = function (seller, buyer, message, productId, senderID) {\n    return new Promise(function (resolve) {\n      firebase.database().ref('/chats/' + seller + '/' + productId + '/' + buyer + '/').push({\n        content: message,\n        timestamp: Date.now(),\n        uid: senderID\n      }).then(function () {\n        resolve(true);\n      }).catch(function (error) {\n        resolve({});\n      });\n    });\n  };\n  this.storage = function () {\n    return firebase.storage();\n  };\n  this.getRimiSenTitles = function () {\n    return new Promise(function (resolve) {\n      firebase.database().ref('/rimiLyrics/').once('value').then(function (snapshot) {\n        if (snapshot.val()) {\n          resolve(Object.values(snapshot.val()));\n        } else {\n          resolve({});\n        }\n      });\n    });\n  };\n  this.getScriptById = function (id) {\n    return new Promise(function (resolve) {\n      firebase.database().ref('/scripts/' + id).once('value').then(function (snapshot) {\n        if (snapshot.val()) {\n          resolve(Object(snapshot.val()));\n        } else {\n          resolve({});\n        }\n      });\n    });\n  };\n  this.updateSenTitle = function (update) {\n    return new Promise(function (resolve) {\n      firebase.database().ref(\"/rimis/\" + update.id + \"/\").update({\n        senTitle: update.newSenTitle\n      }).then(function (response) {\n        return new Promise(function (resolve) {\n          firebase.database().ref(\"/rimis/\" + update.id + \"/updates/\" + update.updateId).remove().then(function () {\n            resolve(true);\n          }).catch(function (error) {\n            console.log(\"error\", error);\n          });\n        }).then(function (response) {\n          resolve(true);\n        }).catch(function (error) {\n          console.log(\"error\", error);\n        });\n      }).catch(function (error) {\n        console.log(\"error\", error);\n      });\n    });\n  };\n  this.sendForApproval = function (item) {\n    return new Promise(function (resolve) {\n      firebase.database().ref('/rimis/' + item.id + '/updates/' + item.updateId + '/').set(item).then(function (response) {\n        console.log(\"response\", response);\n        resolve(true);\n      }).catch(function (error) {\n        console.log(\"error\", error);\n      });\n    });\n  };\n  this.updateVideoSnippetURL = function (orderId, snippetVideoURL) {\n    return new Promise(function (resolve) {\n      firebase.database().ref('/orders/' + orderId + '/').update({\n        snippetVideoURL: snippetVideoURL\n      }).then(function (response) {\n        console.log(\"response\", response);\n        resolve(true);\n      }).catch(function (error) {\n        console.log(\"error\", error);\n      });\n    });\n  };\n});\nexport default new Firebase();","map":{"version":3,"names":["firebase","Firebase","getScripts","Promise","resolve","database","ref","once","then","snapshot","val","Object","values","createNewScript","script","id","set","name","dateCreated","cast","crew","messages","response","console","log","catch","error","updateScript","update","scenes","getRimiSenTitles","postChats","seller","buyer","message","productId","senderID","push","content","timestamp","Date","now","uid","storage","getScriptById","updateSenTitle","senTitle","newSenTitle","updateId","remove","sendForApproval","item","updateVideoSnippetURL","orderId","snippetVideoURL"],"sources":["/Users/jdavid/Documents/textyng/src/firebase/firebase.js"],"sourcesContent":["import firebase from \"firebase\";\n\nclass Firebase {\n  getScripts = () =>{\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/scripts/')\n      .once('value')\n      .then(snapshot => {\n        if (snapshot.val()){\n          resolve(Object.values(snapshot.val()))\n        }else{\n          resolve({})\n        }\n      })\n    })\n  }\n\n  createNewScript = (script) => {\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/scripts/' + script.id + '/')\n      .set(\n        {\n          id: script.id,\n          name: script.name,\n          dateCreated: script.dateCreated,\n          cast: script.cast,\n          crew: script.crew,\n          messages: script.messages,\n        }\n      )\n      .then((response) => {\n        console.log(\"response\", response)\n        resolve(true)\n      })\n      .catch(error => {\n        console.log(\"error\", error)\n      })\n    })\n  }\n\n  updateScript = (script) => {\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/scripts/' + script.id + '/')\n      .update(\n        {\n          name: script.name,\n          cast: script.cast,\n          crew: script.crew,\n          messages: script.messages,\n          scenes: script.scenes,\n        }\n      )\n      .then((response) => {\n        console.log(\"response\", response)\n        resolve(true)\n      })\n      .catch(error => {\n        console.log(\"error\", error)\n      })\n    })\n  }\n\n  getRimiSenTitles = () =>{\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/rimiLyrics/')\n      .once('value')\n      .then(snapshot => {\n        if (snapshot.val()){\n          resolve(Object.values(snapshot.val()))\n        }else{\n          resolve({})\n        }\n      })\n    })\n  }\n\n  postChats = (seller, buyer, message, productId, senderID) => {\n    return new Promise(resolve => {\n      firebase.database().\n      ref('/chats/' + seller + '/' + productId + '/' + buyer + '/').\n      push({\n        content: message,\n        timestamp: Date.now(),\n        uid: senderID,\n      }).\n      then(() => {\n        resolve(true)\n      }).catch(error =>{\n        resolve({})\n      })\n    })\n  }\n\n  storage = () => {\n    return firebase.storage()\n  }\n\n  getRimiSenTitles = () =>{\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/rimiLyrics/')\n      .once('value')\n      .then(snapshot => {\n        if (snapshot.val()){\n          resolve(Object.values(snapshot.val()))\n        }else{\n          resolve({})\n        }\n      })\n    })\n  }\n\n  getScriptById = (id) => {\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/scripts/'+id)\n      .once('value')\n      .then(snapshot => {\n        if (snapshot.val()){\n          resolve(Object(snapshot.val()))\n        }else{\n          resolve({})\n        }\n      })\n    })\n  }\n\n  updateSenTitle = (update) =>{\n    return new Promise(resolve => {\n      firebase.database()\n      .ref(`/rimis/${update.id}/`)\n      .update(\n        {\n          senTitle: update.newSenTitle,\n        },\n      )\n      .then((response) => {\n        return new Promise(resolve => {\n          firebase.database()\n          .ref(`/rimis/${update.id}/updates/${update.updateId}`)\n          .remove()\n          .then(() => {\n            resolve(true)\n          }).catch( (error) =>{\n            console.log(\"error\", error)\n          })\n        })\n        .then((response) => {\n          resolve(true)\n        })\n        .catch(error => {\n          console.log(\"error\", error)\n        })\n      })\n      .catch(error => {\n        console.log(\"error\", error)\n      })\n    })\n\n  }\n\n  sendForApproval = (item) => {\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/rimis/'+item.id+'/updates/' + item.updateId + '/')\n      .set(item)\n      .then((response) => {\n        console.log(\"response\", response)\n        resolve(true)\n      })\n      .catch(error => {\n        console.log(\"error\", error)\n      })\n    })\n  }\n\n  updateVideoSnippetURL = (orderId, snippetVideoURL) => {\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/orders/' + orderId + '/')\n      .update({snippetVideoURL})\n      .then((response) => {\n        console.log(\"response\", response)\n        resolve(true)\n      })\n      .catch(error => {\n        console.log(\"error\", error)\n      })\n    })\n  }\n}\n\nexport default new Firebase();\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}