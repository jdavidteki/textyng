{"ast":null,"code":"import _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport firebase from \"firebase\";\nvar Firebase = _createClass(function Firebase() {\n  _classCallCheck(this, Firebase);\n  this.getScripts = function () {\n    return new Promise(function (resolve) {\n      firebase.database().ref('/scripts/').once('value').then(function (snapshot) {\n        if (snapshot.val()) {\n          resolve(Object.values(snapshot.val()));\n        } else {\n          resolve({});\n        }\n      });\n    });\n  };\n  this.createNewScript = function (reel) {\n    return new Promise(function (resolve) {\n      firebase.database().ref('/scripts/' + reel.id + '/').set({\n        id: reel.id,\n        emailAddress: reel.emailAddress,\n        igname: reel.igname,\n        firstName: reel.firstName,\n        lastName: reel.lastName,\n        reelPurpose: reel.reelPurpose,\n        reelDuration: reel.reelDuration,\n        reelSampleLink: reel.reelSampleLink,\n        dueDateSelected: reel.dueDateSelected,\n        selectedLevelOption: reel.selectedLevelOption,\n        orderAudioURL: reel.orderAudioURL,\n        statusValue: 0,\n        snippetVideoURL: \"\",\n        audioIdToUse: reel.audioIdToUse,\n        cart: reel.cart\n      }).then(function (response) {\n        console.log(\"response\", response);\n        resolve(true);\n      }).catch(function (error) {\n        console.log(\"error\", error);\n      });\n    });\n  };\n  this.getRimiSenTitles = function () {\n    return new Promise(function (resolve) {\n      firebase.database().ref('/rimiLyrics/').once('value').then(function (snapshot) {\n        if (snapshot.val()) {\n          resolve(Object.values(snapshot.val()));\n        } else {\n          resolve({});\n        }\n      });\n    });\n  };\n  this.postChats = function (seller, buyer, message, productId, senderID) {\n    return new Promise(function (resolve) {\n      firebase.database().ref('/chats/' + seller + '/' + productId + '/' + buyer + '/').push({\n        content: message,\n        timestamp: Date.now(),\n        uid: senderID\n      }).then(function () {\n        resolve(true);\n      }).catch(function (error) {\n        resolve({});\n      });\n    });\n  };\n  this.storage = function () {\n    return firebase.storage();\n  };\n  this.getRimiSenTitles = function () {\n    return new Promise(function (resolve) {\n      firebase.database().ref('/rimiLyrics/').once('value').then(function (snapshot) {\n        if (snapshot.val()) {\n          resolve(Object.values(snapshot.val()));\n        } else {\n          resolve({});\n        }\n      });\n    });\n  };\n  this.getReelOrderById = function (id) {\n    return new Promise(function (resolve) {\n      firebase.database().ref('/orders/' + id).once('value').then(function (snapshot) {\n        if (snapshot.val()) {\n          resolve(Object(snapshot.val()));\n        } else {\n          resolve({});\n        }\n      });\n    });\n  };\n  this.updateSenTitle = function (update) {\n    return new Promise(function (resolve) {\n      firebase.database().ref(\"/rimis/\" + update.id + \"/\").update({\n        senTitle: update.newSenTitle\n      }).then(function (response) {\n        return new Promise(function (resolve) {\n          firebase.database().ref(\"/rimis/\" + update.id + \"/updates/\" + update.updateId).remove().then(function () {\n            resolve(true);\n          }).catch(function (error) {\n            console.log(\"error\", error);\n          });\n        }).then(function (response) {\n          resolve(true);\n        }).catch(function (error) {\n          console.log(\"error\", error);\n        });\n      }).catch(function (error) {\n        console.log(\"error\", error);\n      });\n    });\n  };\n  this.sendForApproval = function (item) {\n    return new Promise(function (resolve) {\n      firebase.database().ref('/rimis/' + item.id + '/updates/' + item.updateId + '/').set(item).then(function (response) {\n        console.log(\"response\", response);\n        resolve(true);\n      }).catch(function (error) {\n        console.log(\"error\", error);\n      });\n    });\n  };\n  this.updateVideoSnippetURL = function (orderId, snippetVideoURL) {\n    return new Promise(function (resolve) {\n      firebase.database().ref('/orders/' + orderId + '/').update({\n        snippetVideoURL: snippetVideoURL\n      }).then(function (response) {\n        console.log(\"response\", response);\n        resolve(true);\n      }).catch(function (error) {\n        console.log(\"error\", error);\n      });\n    });\n  };\n});\nexport default new Firebase();","map":{"version":3,"names":["firebase","Firebase","getScripts","Promise","resolve","database","ref","once","then","snapshot","val","Object","values","createNewScript","reel","id","set","emailAddress","igname","firstName","lastName","reelPurpose","reelDuration","reelSampleLink","dueDateSelected","selectedLevelOption","orderAudioURL","statusValue","snippetVideoURL","audioIdToUse","cart","response","console","log","catch","error","getRimiSenTitles","postChats","seller","buyer","message","productId","senderID","push","content","timestamp","Date","now","uid","storage","getReelOrderById","updateSenTitle","update","senTitle","newSenTitle","updateId","remove","sendForApproval","item","updateVideoSnippetURL","orderId"],"sources":["/Users/jdavid/Documents/textyng/src/firebase/firebase.js"],"sourcesContent":["import firebase from \"firebase\";\n\nclass Firebase {\n  getScripts = () =>{\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/scripts/')\n      .once('value')\n      .then(snapshot => {\n        if (snapshot.val()){\n          resolve(Object.values(snapshot.val()))\n        }else{\n          resolve({})\n        }\n      })\n    })\n  }\n\n  createNewScript = (reel) => {\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/scripts/' + reel.id + '/')\n      .set(\n        {\n          id: reel.id,\n          emailAddress: reel.emailAddress,\n          igname: reel.igname,\n          firstName: reel.firstName,\n          lastName: reel.lastName,\n          reelPurpose: reel.reelPurpose,\n          reelDuration: reel.reelDuration,\n          reelSampleLink: reel.reelSampleLink,\n          dueDateSelected: reel.dueDateSelected,\n          selectedLevelOption: reel.selectedLevelOption,\n          orderAudioURL: reel.orderAudioURL,\n          statusValue: 0,\n          snippetVideoURL: \"\",\n          audioIdToUse: reel.audioIdToUse,\n          cart: reel.cart,\n        }\n      )\n      .then((response) => {\n        console.log(\"response\", response)\n        resolve(true)\n      })\n      .catch(error => {\n        console.log(\"error\", error)\n      })\n    })\n  }\n\n  getRimiSenTitles = () =>{\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/rimiLyrics/')\n      .once('value')\n      .then(snapshot => {\n        if (snapshot.val()){\n          resolve(Object.values(snapshot.val()))\n        }else{\n          resolve({})\n        }\n      })\n    })\n  }\n\n  postChats = (seller, buyer, message, productId, senderID) => {\n    return new Promise(resolve => {\n      firebase.database().\n      ref('/chats/' + seller + '/' + productId + '/' + buyer + '/').\n      push({\n        content: message,\n        timestamp: Date.now(),\n        uid: senderID,\n      }).\n      then(() => {\n        resolve(true)\n      }).catch(error =>{\n        resolve({})\n      })\n    })\n  }\n\n  storage = () => {\n    return firebase.storage()\n  }\n\n  getRimiSenTitles = () =>{\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/rimiLyrics/')\n      .once('value')\n      .then(snapshot => {\n        if (snapshot.val()){\n          resolve(Object.values(snapshot.val()))\n        }else{\n          resolve({})\n        }\n      })\n    })\n  }\n\n  getReelOrderById = (id) => {\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/orders/'+id)\n      .once('value')\n      .then(snapshot => {\n        if (snapshot.val()){\n          resolve(Object(snapshot.val()))\n        }else{\n          resolve({})\n        }\n      })\n    })\n  }\n\n  updateSenTitle = (update) =>{\n    return new Promise(resolve => {\n      firebase.database()\n      .ref(`/rimis/${update.id}/`)\n      .update(\n        {\n          senTitle: update.newSenTitle,\n        },\n      )\n      .then((response) => {\n        return new Promise(resolve => {\n          firebase.database()\n          .ref(`/rimis/${update.id}/updates/${update.updateId}`)\n          .remove()\n          .then(() => {\n            resolve(true)\n          }).catch( (error) =>{\n            console.log(\"error\", error)\n          })\n        })\n        .then((response) => {\n          resolve(true)\n        })\n        .catch(error => {\n          console.log(\"error\", error)\n        })\n      })\n      .catch(error => {\n        console.log(\"error\", error)\n      })\n    })\n\n  }\n\n  sendForApproval = (item) => {\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/rimis/'+item.id+'/updates/' + item.updateId + '/')\n      .set(item)\n      .then((response) => {\n        console.log(\"response\", response)\n        resolve(true)\n      })\n      .catch(error => {\n        console.log(\"error\", error)\n      })\n    })\n  }\n\n  updateVideoSnippetURL = (orderId, snippetVideoURL) => {\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/orders/' + orderId + '/')\n      .update({snippetVideoURL})\n      .then((response) => {\n        console.log(\"response\", response)\n        resolve(true)\n      })\n      .catch(error => {\n        console.log(\"error\", error)\n      })\n    })\n  }\n\n\n}\n\nexport default new Firebase();\n"],"mappings":";;AAAA,OAAOA,QAAQ,MAAM,UAAU;AAAC,IAE1BC,QAAQ;EAAA;EAAA,KACZC,UAAU,GAAG,YAAK;IAChB,OAAO,IAAIC,OAAO,CAAC,UAAAC,OAAO,EAAI;MAC5BJ,QAAQ,CAACK,QAAQ,EAAE,CAClBC,GAAG,CAAC,WAAW,CAAC,CAChBC,IAAI,CAAC,OAAO,CAAC,CACbC,IAAI,CAAC,UAAAC,QAAQ,EAAI;QAChB,IAAIA,QAAQ,CAACC,GAAG,EAAE,EAAC;UACjBN,OAAO,CAACO,MAAM,CAACC,MAAM,CAACH,QAAQ,CAACC,GAAG,EAAE,CAAC,CAAC;QACxC,CAAC,MAAI;UACHN,OAAO,CAAC,CAAC,CAAC,CAAC;QACb;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC;EAAA,KAEDS,eAAe,GAAG,UAACC,IAAI,EAAK;IAC1B,OAAO,IAAIX,OAAO,CAAC,UAAAC,OAAO,EAAI;MAC5BJ,QAAQ,CAACK,QAAQ,EAAE,CAClBC,GAAG,CAAC,WAAW,GAAGQ,IAAI,CAACC,EAAE,GAAG,GAAG,CAAC,CAChCC,GAAG,CACF;QACED,EAAE,EAAED,IAAI,CAACC,EAAE;QACXE,YAAY,EAAEH,IAAI,CAACG,YAAY;QAC/BC,MAAM,EAAEJ,IAAI,CAACI,MAAM;QACnBC,SAAS,EAAEL,IAAI,CAACK,SAAS;QACzBC,QAAQ,EAAEN,IAAI,CAACM,QAAQ;QACvBC,WAAW,EAAEP,IAAI,CAACO,WAAW;QAC7BC,YAAY,EAAER,IAAI,CAACQ,YAAY;QAC/BC,cAAc,EAAET,IAAI,CAACS,cAAc;QACnCC,eAAe,EAAEV,IAAI,CAACU,eAAe;QACrCC,mBAAmB,EAAEX,IAAI,CAACW,mBAAmB;QAC7CC,aAAa,EAAEZ,IAAI,CAACY,aAAa;QACjCC,WAAW,EAAE,CAAC;QACdC,eAAe,EAAE,EAAE;QACnBC,YAAY,EAAEf,IAAI,CAACe,YAAY;QAC/BC,IAAI,EAAEhB,IAAI,CAACgB;MACb,CAAC,CACF,CACAtB,IAAI,CAAC,UAACuB,QAAQ,EAAK;QAClBC,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEF,QAAQ,CAAC;QACjC3B,OAAO,CAAC,IAAI,CAAC;MACf,CAAC,CAAC,CACD8B,KAAK,CAAC,UAAAC,KAAK,EAAI;QACdH,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEE,KAAK,CAAC;MAC7B,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC;EAAA,KAEDC,gBAAgB,GAAG,YAAK;IACtB,OAAO,IAAIjC,OAAO,CAAC,UAAAC,OAAO,EAAI;MAC5BJ,QAAQ,CAACK,QAAQ,EAAE,CAClBC,GAAG,CAAC,cAAc,CAAC,CACnBC,IAAI,CAAC,OAAO,CAAC,CACbC,IAAI,CAAC,UAAAC,QAAQ,EAAI;QAChB,IAAIA,QAAQ,CAACC,GAAG,EAAE,EAAC;UACjBN,OAAO,CAACO,MAAM,CAACC,MAAM,CAACH,QAAQ,CAACC,GAAG,EAAE,CAAC,CAAC;QACxC,CAAC,MAAI;UACHN,OAAO,CAAC,CAAC,CAAC,CAAC;QACb;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC;EAAA,KAEDiC,SAAS,GAAG,UAACC,MAAM,EAAEC,KAAK,EAAEC,OAAO,EAAEC,SAAS,EAAEC,QAAQ,EAAK;IAC3D,OAAO,IAAIvC,OAAO,CAAC,UAAAC,OAAO,EAAI;MAC5BJ,QAAQ,CAACK,QAAQ,EAAE,CACnBC,GAAG,CAAC,SAAS,GAAGgC,MAAM,GAAG,GAAG,GAAGG,SAAS,GAAG,GAAG,GAAGF,KAAK,GAAG,GAAG,CAAC,CAC7DI,IAAI,CAAC;QACHC,OAAO,EAAEJ,OAAO;QAChBK,SAAS,EAAEC,IAAI,CAACC,GAAG,EAAE;QACrBC,GAAG,EAAEN;MACP,CAAC,CAAC,CACFlC,IAAI,CAAC,YAAM;QACTJ,OAAO,CAAC,IAAI,CAAC;MACf,CAAC,CAAC,CAAC8B,KAAK,CAAC,UAAAC,KAAK,EAAG;QACf/B,OAAO,CAAC,CAAC,CAAC,CAAC;MACb,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC;EAAA,KAED6C,OAAO,GAAG,YAAM;IACd,OAAOjD,QAAQ,CAACiD,OAAO,EAAE;EAC3B,CAAC;EAAA,KAEDb,gBAAgB,GAAG,YAAK;IACtB,OAAO,IAAIjC,OAAO,CAAC,UAAAC,OAAO,EAAI;MAC5BJ,QAAQ,CAACK,QAAQ,EAAE,CAClBC,GAAG,CAAC,cAAc,CAAC,CACnBC,IAAI,CAAC,OAAO,CAAC,CACbC,IAAI,CAAC,UAAAC,QAAQ,EAAI;QAChB,IAAIA,QAAQ,CAACC,GAAG,EAAE,EAAC;UACjBN,OAAO,CAACO,MAAM,CAACC,MAAM,CAACH,QAAQ,CAACC,GAAG,EAAE,CAAC,CAAC;QACxC,CAAC,MAAI;UACHN,OAAO,CAAC,CAAC,CAAC,CAAC;QACb;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC;EAAA,KAED8C,gBAAgB,GAAG,UAACnC,EAAE,EAAK;IACzB,OAAO,IAAIZ,OAAO,CAAC,UAAAC,OAAO,EAAI;MAC5BJ,QAAQ,CAACK,QAAQ,EAAE,CAClBC,GAAG,CAAC,UAAU,GAACS,EAAE,CAAC,CAClBR,IAAI,CAAC,OAAO,CAAC,CACbC,IAAI,CAAC,UAAAC,QAAQ,EAAI;QAChB,IAAIA,QAAQ,CAACC,GAAG,EAAE,EAAC;UACjBN,OAAO,CAACO,MAAM,CAACF,QAAQ,CAACC,GAAG,EAAE,CAAC,CAAC;QACjC,CAAC,MAAI;UACHN,OAAO,CAAC,CAAC,CAAC,CAAC;QACb;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC;EAAA,KAED+C,cAAc,GAAG,UAACC,MAAM,EAAI;IAC1B,OAAO,IAAIjD,OAAO,CAAC,UAAAC,OAAO,EAAI;MAC5BJ,QAAQ,CAACK,QAAQ,EAAE,CAClBC,GAAG,aAAW8C,MAAM,CAACrC,EAAE,OAAI,CAC3BqC,MAAM,CACL;QACEC,QAAQ,EAAED,MAAM,CAACE;MACnB,CAAC,CACF,CACA9C,IAAI,CAAC,UAACuB,QAAQ,EAAK;QAClB,OAAO,IAAI5B,OAAO,CAAC,UAAAC,OAAO,EAAI;UAC5BJ,QAAQ,CAACK,QAAQ,EAAE,CAClBC,GAAG,aAAW8C,MAAM,CAACrC,EAAE,iBAAYqC,MAAM,CAACG,QAAQ,CAAG,CACrDC,MAAM,EAAE,CACRhD,IAAI,CAAC,YAAM;YACVJ,OAAO,CAAC,IAAI,CAAC;UACf,CAAC,CAAC,CAAC8B,KAAK,CAAE,UAACC,KAAK,EAAI;YAClBH,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEE,KAAK,CAAC;UAC7B,CAAC,CAAC;QACJ,CAAC,CAAC,CACD3B,IAAI,CAAC,UAACuB,QAAQ,EAAK;UAClB3B,OAAO,CAAC,IAAI,CAAC;QACf,CAAC,CAAC,CACD8B,KAAK,CAAC,UAAAC,KAAK,EAAI;UACdH,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEE,KAAK,CAAC;QAC7B,CAAC,CAAC;MACJ,CAAC,CAAC,CACDD,KAAK,CAAC,UAAAC,KAAK,EAAI;QACdH,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEE,KAAK,CAAC;MAC7B,CAAC,CAAC;IACJ,CAAC,CAAC;EAEJ,CAAC;EAAA,KAEDsB,eAAe,GAAG,UAACC,IAAI,EAAK;IAC1B,OAAO,IAAIvD,OAAO,CAAC,UAAAC,OAAO,EAAI;MAC5BJ,QAAQ,CAACK,QAAQ,EAAE,CAClBC,GAAG,CAAC,SAAS,GAACoD,IAAI,CAAC3C,EAAE,GAAC,WAAW,GAAG2C,IAAI,CAACH,QAAQ,GAAG,GAAG,CAAC,CACxDvC,GAAG,CAAC0C,IAAI,CAAC,CACTlD,IAAI,CAAC,UAACuB,QAAQ,EAAK;QAClBC,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEF,QAAQ,CAAC;QACjC3B,OAAO,CAAC,IAAI,CAAC;MACf,CAAC,CAAC,CACD8B,KAAK,CAAC,UAAAC,KAAK,EAAI;QACdH,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEE,KAAK,CAAC;MAC7B,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC;EAAA,KAEDwB,qBAAqB,GAAG,UAACC,OAAO,EAAEhC,eAAe,EAAK;IACpD,OAAO,IAAIzB,OAAO,CAAC,UAAAC,OAAO,EAAI;MAC5BJ,QAAQ,CAACK,QAAQ,EAAE,CAClBC,GAAG,CAAC,UAAU,GAAGsD,OAAO,GAAG,GAAG,CAAC,CAC/BR,MAAM,CAAC;QAACxB,eAAe,EAAfA;MAAe,CAAC,CAAC,CACzBpB,IAAI,CAAC,UAACuB,QAAQ,EAAK;QAClBC,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEF,QAAQ,CAAC;QACjC3B,OAAO,CAAC,IAAI,CAAC;MACf,CAAC,CAAC,CACD8B,KAAK,CAAC,UAAAC,KAAK,EAAI;QACdH,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEE,KAAK,CAAC;MAC7B,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC;AAAA;AAKH,eAAe,IAAIlC,QAAQ,EAAE"},"metadata":{},"sourceType":"module"}