{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/jdavid/Documents/textyng/src/components/TimeInput/TimeInput.js\";\nimport React from \"react\";\nimport \"./TimeInput.css\";\nvar spslm = 0;\n\nsetInterval(function () {\n  spslm += 1;\n}, 1000);\nfunction TimeInput(props) {\n  var _React$useState = React.useState(\"0:00\"),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    value = _React$useState2[0],\n    setValue = _React$useState2[1];\n  var _React$useState3 = React.useState(\"0\"),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    secondsPassedSinceLastMsgSent = _React$useState4[0],\n    setSecondsPassedSinceLastMsgSent = _React$useState4[1];\n  var onChange = function onChange(event) {\n    setValue(event.target.value);\n  };\n  var onBlur = function onBlur(event) {\n    var value = event.target.value;\n    var seconds = Math.max(0, getSecondsFromHHMMSS(value));\n    props.inputTime(seconds);\n    var time = toHHMMSS(seconds);\n    setValue(time);\n  };\n  var getSecondsFromHHMMSS = function getSecondsFromHHMMSS(value) {\n    var _value$split = value.split(\":\"),\n      _value$split2 = _slicedToArray(_value$split, 3),\n      str1 = _value$split2[0],\n      str2 = _value$split2[1],\n      str3 = _value$split2[2];\n    var val1 = Number(str1);\n    var val2 = Number(str2);\n    var val3 = Number(str3);\n    if (!isNaN(val1) && isNaN(val2) && isNaN(val3)) {\n      return val1;\n    }\n    if (!isNaN(val1) && !isNaN(val2) && isNaN(val3)) {\n      return val1 * 60 + val2;\n    }\n    if (!isNaN(val1) && !isNaN(val2) && !isNaN(val3)) {\n      return val1 * 60 * 60 + val2 * 60 + val3;\n    }\n    return 0;\n  };\n  var toHHMMSS = function toHHMMSS(secs) {\n    var secNum = parseInt(secs.toString(), 10);\n    var hours = Math.floor(secNum / 3600);\n    var minutes = Math.floor(secNum / 60) % 60;\n    var seconds = secNum % 60;\n    return [hours, minutes, seconds].map(function (val) {\n      return val < 10 ? \"0\" + val : val;\n    }).filter(function (val, index) {\n      return val !== \"00\" || index > 0;\n    }).join(\":\").replace(/^0/, \"\");\n  };\n  setSecondsPassedSinceLastMsgSent(spslm);\n  if (props.newMsgSent) {\n    spslm = 0;\n    setSecondsPassedSinceLastMsgSent(0);\n  }\n  return React.createElement(\"input\", {\n    className: \"TimeInput\",\n    type: \"text\",\n    onChange: onChange,\n    onBlur: onBlur,\n    value: value == \"0:00\" ? secondsPassedSinceLastMsgSent : value,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  });\n}\n;\nexport default TimeInput;","map":{"version":3,"names":["React","spslm","setInterval","TimeInput","props","useState","value","setValue","secondsPassedSinceLastMsgSent","setSecondsPassedSinceLastMsgSent","onChange","event","target","onBlur","seconds","Math","max","getSecondsFromHHMMSS","inputTime","time","toHHMMSS","split","str1","str2","str3","val1","Number","val2","val3","isNaN","secs","secNum","parseInt","toString","hours","floor","minutes","map","val","filter","index","join","replace","newMsgSent"],"sources":["/Users/jdavid/Documents/textyng/src/components/TimeInput/TimeInput.js"],"sourcesContent":["import React from \"react\";\n\nimport \"./TimeInput.css\";\n\nvar spslm = 0 //seconds passed since last message\n\nsetInterval(() => {\n    spslm +=1\n}, 1000);\n\nfunction TimeInput(props){\n    const [value, setValue] = React.useState(\"0:00\");\n    const [secondsPassedSinceLastMsgSent, setSecondsPassedSinceLastMsgSent] = React.useState(\"0\");\n\n    const onChange = (event) => {\n      setValue(event.target.value);\n    };\n\n    const onBlur = (event) => {\n      const value = event.target.value;\n      const seconds = Math.max(0, getSecondsFromHHMMSS(value));\n\n      props.inputTime(seconds)\n\n      const time = toHHMMSS(seconds);\n      setValue(time);\n    };\n\n    const getSecondsFromHHMMSS = (value) => {\n      const [str1, str2, str3] = value.split(\":\");\n\n      const val1 = Number(str1);\n      const val2 = Number(str2);\n      const val3 = Number(str3);\n\n      if (!isNaN(val1) && isNaN(val2) && isNaN(val3)) {\n        return val1;\n      }\n\n      if (!isNaN(val1) && !isNaN(val2) && isNaN(val3)) {\n        return val1 * 60 + val2;\n      }\n\n      if (!isNaN(val1) && !isNaN(val2) && !isNaN(val3)) {\n        return val1 * 60 * 60 + val2 * 60 + val3;\n      }\n\n      return 0;\n    };\n\n    const toHHMMSS = (secs) => {\n      const secNum = parseInt(secs.toString(), 10);\n      const hours = Math.floor(secNum / 3600);\n      const minutes = Math.floor(secNum / 60) % 60;\n      const seconds = secNum % 60;\n\n      return [hours, minutes, seconds]\n        .map((val) => (val < 10 ? `0${val}` : val))\n        .filter((val, index) => val !== \"00\" || index > 0)\n        .join(\":\")\n        .replace(/^0/, \"\");\n    };\n\n    setSecondsPassedSinceLastMsgSent(spslm)\n    if(props.newMsgSent){\n        spslm = 0\n        setSecondsPassedSinceLastMsgSent(0)\n    }\n\n    return (\n        <input\n            className=\"TimeInput\"\n            type=\"text\"\n            onChange={onChange}\n            onBlur={onBlur}\n            value={value == \"0:00\" ? secondsPassedSinceLastMsgSent : value}\n        />\n    );\n};\n\nexport default TimeInput;"],"mappings":"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"},"metadata":{},"sourceType":"module"}