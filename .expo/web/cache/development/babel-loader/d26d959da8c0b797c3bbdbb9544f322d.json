{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/jdavid/Documents/textyng/src/components/RecordModal/RecordModal.js\";\nimport React from 'react';\nimport { Recorder, Player, Waveform } from 'react-simple-audio-recorder';\nimport * as firebase from 'firebase/app';\nimport 'firebase/storage';\nimport \"./RecordModal.scss\";\nfunction RecordModal() {\n  var _React$useState = React.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    isRecording = _React$useState2[0],\n    setIsRecording = _React$useState2[1];\n  var _React$useState3 = React.useState(null),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    audioUrl = _React$useState4[0],\n    setAudioUrl = _React$useState4[1];\n  function handleStartRecording() {\n    setIsRecording(true);\n  }\n  function handleStopRecording(blob) {\n    setIsRecording(false);\n    setAudioUrl(blob.blobURL);\n    var audioFile = new File([blob.blob], 'audio.mp3', {\n      type: 'audio/mp3'\n    });\n    bucket.put(audioFile).then(function (snapshot) {\n      console.log('Audio uploaded to Firebase');\n    });\n  }\n  return React.createElement(\"div\", {\n    className: \"record-modal\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 5\n    }\n  }, isRecording ? React.createElement(Recorder, {\n    onStop: handleStopRecording,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }) : React.createElement(\"button\", {\n    onClick: handleStartRecording,\n    className: \"record-button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, \"Start recording\"), audioUrl && React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, React.createElement(Player, {\n    src: audioUrl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }), React.createElement(Waveform, {\n    src: audioUrl,\n    width: 500,\n    height: 100,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  })));\n}","map":{"version":3,"names":["React","Recorder","Player","Waveform","firebase","RecordModal","useState","isRecording","setIsRecording","audioUrl","setAudioUrl","handleStartRecording","handleStopRecording","blob","blobURL","audioFile","File","type","bucket","put","then","snapshot","console","log"],"sources":["/Users/jdavid/Documents/textyng/src/components/RecordModal/RecordModal.js"],"sourcesContent":["import React from 'react';\nimport { Recorder, Player, Waveform } from 'react-simple-audio-recorder';\nimport * as firebase from 'firebase/app';\nimport 'firebase/storage';\nimport './RecordModal.scss';\n\nfunction RecordModal() {\n  const [isRecording, setIsRecording] = React.useState(false);\n  const [audioUrl, setAudioUrl] = React.useState(null);\n\n  function handleStartRecording() {\n    setIsRecording(true);\n  }\n\n  function handleStopRecording(blob) {\n    setIsRecording(false);\n    setAudioUrl(blob.blobURL);\n\n    // Upload the audio to Firebase\n    const audioFile = new File([blob.blob], 'audio.mp3', {\n      type: 'audio/mp3'\n    });\n    bucket.put(audioFile).then(snapshot => {\n      console.log('Audio uploaded to Firebase');\n    });\n  }\n\n  return (\n    <div className=\"record-modal\">\n      {isRecording ? (\n        <Recorder onStop={handleStopRecording} />\n      ) : (\n        <button onClick={handleStartRecording} className=\"record-button\">\n          Start recording\n        </button>\n      )}\n      {audioUrl && (\n        <div>\n          <Player src={audioUrl} />\n          <Waveform src={audioUrl} width={500} height={100} />\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,6BAA6B;AACxE,OAAO,KAAKC,QAAQ,MAAM,cAAc;AACxC,OAAO,kBAAkB;AACzB;AAEA,SAASC,WAAW,GAAG;EACrB,sBAAsCL,KAAK,CAACM,QAAQ,CAAC,KAAK,CAAC;IAAA;IAApDC,WAAW;IAAEC,cAAc;EAClC,uBAAgCR,KAAK,CAACM,QAAQ,CAAC,IAAI,CAAC;IAAA;IAA7CG,QAAQ;IAAEC,WAAW;EAE5B,SAASC,oBAAoB,GAAG;IAC9BH,cAAc,CAAC,IAAI,CAAC;EACtB;EAEA,SAASI,mBAAmB,CAACC,IAAI,EAAE;IACjCL,cAAc,CAAC,KAAK,CAAC;IACrBE,WAAW,CAACG,IAAI,CAACC,OAAO,CAAC;IAGzB,IAAMC,SAAS,GAAG,IAAIC,IAAI,CAAC,CAACH,IAAI,CAACA,IAAI,CAAC,EAAE,WAAW,EAAE;MACnDI,IAAI,EAAE;IACR,CAAC,CAAC;IACFC,MAAM,CAACC,GAAG,CAACJ,SAAS,CAAC,CAACK,IAAI,CAAC,UAAAC,QAAQ,EAAI;MACrCC,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC;IAC3C,CAAC,CAAC;EACJ;EAEA,OACE;IAAK,SAAS,EAAC,cAAc;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAC1BhB,WAAW,GACV,oBAAC,QAAQ;IAAC,MAAM,EAAEK,mBAAoB;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,GAEzC;IAAQ,OAAO,EAAED,oBAAqB;IAAC,SAAS,EAAC,eAAe;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,qBAGjE,EACAF,QAAQ,IACP;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACE,oBAAC,MAAM;IAAC,GAAG,EAAEA,QAAS;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,EACzB,oBAAC,QAAQ;IAAC,GAAG,EAAEA,QAAS;IAAC,KAAK,EAAE,GAAI;IAAC,MAAM,EAAE,GAAI;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,CAEvD,CACG;AAEV"},"metadata":{},"sourceType":"module"}